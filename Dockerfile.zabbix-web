# -------------------------------------------------------------
# Базовый образ – официальная версия Zabbix‑Web (Alpine)
# -------------------------------------------------------------
FROM zabbix/zabbix-web-nginx-pgsql:alpine-6.0-latest

# -------------------------------------------------------------
# Переключаемся на root, ставим нужные утилиты, потом возвращаемся
# к пользователю zabbix (по‑умолчанию в оригинальном образе)
# -------------------------------------------------------------
USER root

# Устанавливаем jq (для pretty‑print JSON) и вспомогательные утилиты
RUN apk update && \
    apk add --no-cache jq iputils-ping netcat-openbsd && \
    rm -rf /var/cache/apk/*

# Возвращаем пользователя zabbix (чтобы веб‑процессы не работали от root)
USER zabbix
